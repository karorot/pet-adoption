{% extends "layout.html" %}

{% block title %}New listing{% endblock %}

{% block content %}
{% if session.user_id %}
<h2>Create a new listing for your pet</h2>
Fill in the required information and a description of your pet.
<form action="/add_pet" method="post">
  <p>
    <label for="name">Name</label>:<br />
    <input type="text" name="name" id="name" maxlength="50" required />
  </p>
  <p>
    <label for="birth_year">Year of birth</label>:<br />
    <input type="text" name="birth_year" id="birth_year" pattern="(19|20)[0-9]{2}" placeholder="2025" required />
  </p>
  {% for class in classes %}
  <p>
    <label for="class_{{ class }}">{{ class }}</label>:<br />
    <select name="classes" id="class_{{ class }}" required>
      <option value="">(select)</option>
      {% for option in classes[class] %}
      <option value="{{ class  }}:{{ option }}">{{ option }}</option>
      {% endfor %}
    </select>
  </p>
  {% endfor %}
  <p>
    <label for="breed">Breed</label>:<br />
    <input type="text" name="breed" id="breed" maxlength="50" required />
  </p>
  <p>
    <label for="description">Description</label>:<br />
    <textarea name="description" rows="8" cols="50" maxlength="1000" placeholder="Optional, but highly recommended"></textarea>
  </p>
  <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}" />
  <input type="submit" value="List your pet" />
</form>
{% endif %}
{% endblock %}