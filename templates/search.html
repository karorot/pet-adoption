{% extends "layout.html" %}

{% block title %}Search{% endblock %}

{% block content %}
<h2>Search</h2>
<form action="/search" method="get">
  <p>
    <label for="query">Keyword</label>:
    <input type="text" name="query" id="query" value="{{ query }}" />
  </p>
  <input type="submit" value="Search" />
</form>

{% if query %}
<h3>Search results</h3>
{% if results|length > 0 %}
<ul>
  {% for pet in results %}
  <li><a href="/pet/{{ pet.id }}">{{ pet.name }}</a>: {{ pet.breed}} in {{ pet.location }}</li>
  <hr />
  {% endfor %}
</ul>
<div class="pagination">
  <ul>
    {% if page > 1 %}
    <li><a href="/search/{{ page - 1}}?query={{ query }}">&laquo; </a></li>
    {% endif %}
    <li>Page {{ page }} / {{ page_count }}</li>
    {% if page_count > page %}
    <li><a href="/search/{{ page + 1}}?query={{ query }}"> &raquo;</a></li>
    {% endif %}
  </ul>
</div>
{% else %}
<p>
  No results. Try different keywords.
</p>
{% endif %}
{% endif %}
{% endblock %}